# VirtualReality
TermProject

Assets 폴더에 PPT 존재.

유니티 버전 2019.4.2f1
개발자 : 
곽명석(경희대학교 소프트웨어융합학과)
이해님(경희대학교 컴퓨터공학과)

# A. 목표 : 가상 현실에서의 감각 Feedback
일반적인 PC 게임을 진행할때 사용자의 캐릭터가 공격을 받으면 모니터를 통해 Effect UI가 활성화되며 사용자의 눈을 어지럽힌다. 하지만 가상 현실은 마치 사용자가 가상 세계에 존재하듯 게임을 진행할 수 있으므로 감각 피드백을 제공하여 캐릭터의 신체 어디를 공격당했는지 사용자에게 Feedback을 통해 알려준다. 또한 현실에 존재하는 시선 감지(육감)또한 제공하여 Reality 적인 부분을 높여준다.



# B. 계획
1. 사용자가 가상 현실에서 Enemy에게 뒤에서 공격 당했을 때 사용자가 입고있는 옷에 부착된 아두이노를 통해 피드백 전달
2. 현실에 존재하는 시선 감지(육감)를 구현하여 아두이노를 통하여 피드백 전달.
3. 가상 현실에서 사용자의 캐릭터와 Enemy가 존재하는 컨텐츠 제작을 통해 단순 신호 전달이 아닌 가상 현실 콘텐츠와 연결지어 상황에 맞는 피드백 전달




# C. 개발 과정 (유니티)
(1) 장비 및 조작방법 : HTC VIVE VR 기기 사용, 사용자는 Passive 상태 즉 앉아서 컨트롤러를 통해 캐릭터 움직임 및 Weapon 사용.

(2) 사용된 Objects : Enemy , Map , Weapon,Trap
  I.	미로 Concept에 맞추어 Enemy의 경우 미노타우로스를 활용하였다. Player는 권총 무기를 통해 Enemy, Trap Cube를 파괴하여 목표 지점으로 들어가야 한다.
  
  
(3) 유니티의 Raycast를 이용한 시선 감지 , Collider Box를 활용하여 사용자 캐릭터 앞 뒤 공격 감지
  I.	오브젝트의 바라보는 방향으로 Raycast(파란색 선)를 발사하여 사용자의 캐릭터에 충돌시 사용자 뒷목에 Feedback 제공.
  II.	Enemy Object의 공격이 사용자의 캐릭터 각 Collider box에 충돌할시 Collider box 태그에  따른 충격 신호를 사용자에게 부착된 위치의 진동모터로 전달

# C. 개발 과정 (아두이노)
(1) 사용된 장비
  I.	진동모터모듈 3개, HC-06 블루투스 모듈 1개, 외부전력1개, 아두이노 나노 보드 1개
(2) 동작 방식
  I.	유니티에서 충돌 이벤트가 발생하면 각각의 진동 모듈에 진동을 준다.
  II.	analogWrite()를 활용해 진동 세기의 차이를 둬서 다양한 피드백을 가능하게 한다.

(3) 사용자 Feedback 아두이노 착용
I.	앞에서 공격 감지 피드백 진동모듈:
	6번 포트와 연결
  analogWrite()값으로 250을 줘서 강한 진동

II.	시선 감지 진동 모듈:
  9번 포트와 연결
  analogWrite()값으로 80을 줘서 약한 진동
  시선감지의 경우에는 약한 진동만 줘서 오싹한 느낌을 줄 수 있도록 유도했다
III.	뒤에서 공격감지 진동모듈: 10번 포트와 연결
  10번 포트와 연결
  analogWrite()값으로 250을 줘서 강한 진동




# D. 결론 
     Assets 폴더에 PPT 파일 확인



### a. 보완할 점 및 아쉬운점
  I.	진동이라는 단순한 피드백 하나로는 Enemy의 공격 강도에 따른 진동을 조절하지 못하였고 또한 정확한 피격 위치를 알기에는 어려웠다. 진동 외에 사용자가 완벽한 현실에서도 맞는 듯한 감각을 모
      방할 수 있는 방법을 썼더라면 사용자가 가상현실에서 몰입감과 Reality, Presence 부분이 증가했을 것 이다. 
  II.	시선 감지를 할 때는 개인차가 존재 하는 듯하다. 뒷목이 조금 민감한 사람은 약한 진동으로 소름 끼치는 느낌을 느끼지만 그 외에 전혀 진동을 느끼지 못하는 경우도 있었다. 차라리 아두이노 디지 
      털 온도 센서 모듈을 통해 차가운 느낌을 제공하였다면 더욱더 오싹한 느낌을 제공하지 않았을까 한다.
  III.	아두이노에 대한 지식이 부족한 상태에서 유니티의 가상환경에서 구현된 콘텐츠와의 피드백을 줄 수 있는 것을 만든 것이 아쉬운 반면 이번에 아두이노의 대한 기초적인 지식을 배울 수 있었기에 
      이를 통해 더 뛰어난 햅틱 기술을 만들 수 있을거 같다.




### b. 얻은 점
  (1) 아두이노와 유니티(VR) 를 연동함으로써 아두이노의 기본적인 지식과 햅틱 기술의 이론 , VR의 Presence 중요성을 알 수 있게 되었다. 

  (2)VR 개발 과정을 통해 VR과 햅티기술이 얼마나 중요한지 깨닫게 되었고 가상현실의 Presence를 높이기 위해서는 단순한 VR Display만 보여주는 개발로는 힘들다는것을 알게 되었다. 
  또한 기본적으로 사용자의 Sensory를 높여주는것이 중요하다. 단순한 display만을 통해 VR을 즐기는건 3d 영화 또는 TV를 보는것과 마찬가지인거 같다. 하지만 이러한 단점만 보완된다면 컴퓨터 게임으
  로는 절대 느끼지 못하는 환경을 구축할 수 있을거라고 장담한다.



# H. 참고 자료 
1. 유니티 github.desktop 연동 방법 , 깃의 기능 관련 설명도 있음
https://www.youtube.com/watch?v=wBsSUBEUYV4

2. gun
https://www.youtube.com/watch?v=QUCPh9ZuryU

3. touchpad movement
https://www.youtube.com/watch?v=EUnQ4whsQcU

4. 미노타우로스
https://you-rang.tistory.com/127

5. VR controller Movement
https://www.youtube.com/watch?v=QREKO1sf8b8

6. Blaster Weapon
https://www.youtube.com/watch?v=QUCPh9ZuryU


### 유니티 git 연동 방법
https://www.youtube.com/watch?v=wBsSUBEUYV4
